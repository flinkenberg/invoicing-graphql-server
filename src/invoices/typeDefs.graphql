enum InvoiceStatus {
  DRAFT
  DUE
  PAST_DUE
  PAID
  UNPAID
}

enum InvoiceDBKey {
  id
  customer
  total
  createdAt
  status
}

type CustomerMin {
  name: String!
}

type LabelMin {
  name: String!
  color: String
}

type Item {
  name: String!
  description: String!
  price: Int!
  quantity: Int!
}

type Invoice {
  id: ID!
  customer: CustomerMin!
  items: [Item]!
  labels: [LabelMin]
  total: Int!
  createdAt: String!
  status: InvoiceStatus!
}

type InvoicesPaginated {
  total: Int!
  items: [Invoice]!
}

input InvoiceInput {
  customer: InvoiceCustomerInput!
  items: [InvoiceItemInput]!
  total: Int!
  status: InvoiceStatus = DRAFT
}

input InvoiceItemInput {
  name: String!
  description: String!
  price: Int!
  quantity: Int!
}

input InvoiceCustomerInput {
  name: String!
}

extend type Query {
  getInvoices(
    limit: Int
    offset: Int
    search: String
    searchKey: InvoiceDBKey
    sortKey: InvoiceDBKey
    isDesc: Boolean
  ): InvoicesPaginated!
  getInvoice(id: ID!): Invoice!
}

extend type Mutation {
  createInvoice(input: InvoiceInput!): Boolean!
}
